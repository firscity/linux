# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
# Copyright (C) 2022 Renesas Electronics Corp.
%YAML 1.2
---
$id: http://devicetree.org/schemas/pci/rcar-gen4-pci-host.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Renesas R-Car Gen5 PCIe 6.0 Endpoint

maintainers:
  - Tin Tran <tin.tran.xk@renesas.com>

allOf:
  - $ref: snps,dw-pcie-ep.yaml#

properties:
  compatible:
    items:
      - const: renesas,rcar-gen5-pcie6-ep # R-Car Gen5

  interrupts:
    maxItems: 9

  clocks:
    maxItems: 1

  power-domains:
    maxItems: 1

  resets:
    maxItems: 1

required:
  - compatible
  - reg
  - interrupts
  - clocks
  - power-domains

unevaluatedProperties: false

examples:

        pcie6_ep: pcie6-ep@0xDE000000 {
                compatible = "renesas,rcar-gen5-pcie6-ep";
                reg = <0 0xDE000000 0 0x70000>, <0 0xDE100000 0 0x200000>,
                      <0 0xDE300000 0 0x80000>,<0 0xDE380000 0 0x1200>,
                      <0x0 0xDB000000 0x0 0x400000>;
                reg-names = "dbi", "dbi2",
                            "atu", "dma",
                            "addr_space";
                interrupts = <0 348 4>,
                             <0 349 4>,
                             <0 350 4>,
                             <0 354 4>,
                             <0 355 4>,
                             <0 355 4>,
                             <0 355 4>,
                             <0 355 4>,
                             <0 356 4>;
                clocks = <&pcie_bus>;
                clock-names = "pcie_bus";
                num-lanes = <2>;
                num-ib-windows = <16>;
                num-ob-windows = <16>;
                status = "okay";
};
